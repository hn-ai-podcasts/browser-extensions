<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>HN Podcasts</title>
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        min-width: 250px;
        padding: 15px;
        color: #333;
      }
      h2 { font-size: 16px; margin: 0 0 10px 0; }
      label { display: block; margin-bottom: 5px; font-weight: bold; }
      select { width: 100%; padding: 5px; margin-bottom: 15px; }

      .info-box {
        background: #f6f6ef; /* Couleur HN */
        border: 1px solid #ddd;
        padding: 10px;
        border-radius: 4px;
        font-size: 12px;
      }
      .info-box h3 { margin: 0 0 5px 0; font-size: 13px; color: #ff6600; }
      .criteria-list { list-style: none; padding: 0; margin: 0; }
      .criteria-list li { margin-bottom: 4px; }
      .val { font-weight: bold; color: #000; }
    </style>
  </head>
  <body>
    <div id="hn-link-container" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; border-bottom: 1px solid #ddd; padding-bottom: 5px;">
    <span style="font-weight: bold; color: #ff6600;">HN Podcasts</span>
    <a href="https://news.ycombinator.com" target="_blank" style="text-decoration: none; color: #828282; font-size: 12px;">
        Go to HN ↗
    </a>
    </div>

    <div class="hn-dashboard" style="border-top: 0px solid #ddd; padding-top: 0px; color:#313131;">
    <label for="language-select">Podcast Language:</label>
    <select id="language-select"></select>

    <!-- Section Quota Communautaire -->
  <div id="quota-section" style="background-color: #f6f6ef; padding: 10px; border-radius: 4px; margin-bottom: 12px; border: 1px solid #ddd; display: none;">
      <div style="font-size: 12px; font-weight: bold; color: #828282; margin-bottom: 4px; display: flex; justify-content: space-between;">
          <span>Shared Daily Quota</span>
          <span id="quota-text" style="color: #333;">-- / --</span>
      </div>

      <!-- Barre de progression visuelle -->
      <div style="width: 100%; background-color: #e0e0e0; height: 6px; border-radius: 3px; overflow: hidden;">
          <div id="quota-bar" style="height: 100%; background-color: #ff6600; width: 0%; transition: width 0.5s ease;"></div>
      </div>

      <div id="quota-label" style="font-size: 10px; color: #999; margin-top: 4px; text-align: right;">
          Remaining for the community
      </div>
  </div>

    <div class="info-box">
      <h3>Creation Criteria</h3>
      <div id="settings-loading">Loading settings...</div>
      <ul id="settings-list" class="criteria-list" style="display:none;color: #313131;">
        <li>Min Score: <span id="min-score" class="val">-</span></li>
        <li>Min Comments: <span id="min-comments" class="val">-</span></li>
        <li>Min Age: <span id="min-age" class="val">-</span></li>
        <li>Max Age: <span id="max-age" class="val">-</span></li>
      </ul>
    </div>

    <div style="margin-top: 10px; padding-top: 5px;">
    <label style="font-size: 12px; cursor: pointer; display: flex; align-items: center; color: #313131;">
        <input type="checkbox" id="highlight-checkbox" style="margin-right: 6px;">
        Highlight podcast elements
    </label>
    </div>

    </div>

        <div id="hn-separator" class="hn-dashboard" style="border-top: 1px solid #ddd; padding-top: 10px; margin-top: 10px;"></div>

    <div id="player-container" style="display: none; ">
      <div style="font-weight: bold; margin-bottom: 5px; color: #313131;">
          Now Playing: <a id="player-link" href="#" target="_blank" style="color: #ff6600; text-decoration: none;">Story</a>
      </div>

      <div style="display: flex; align-items: center; gap: 10px;">
          <!-- Bouton Play/Pause (Toggle) -->
          <button id="player-play-btn" style="width: 30px; height: 30px; cursor: pointer;color: #313131;">▶</button>

          <!-- NOUVEAU Bouton Stop (Reset) -->
          <button id="player-stop-btn" style="width: 30px; height: 30px; cursor: pointer;color: #313131;">⏹</button>

          <span id="player-time" style="font-size: 0.9em; color: #666; margin-left: auto;">0:00 / 0:00</span>
      </div>
    </div>

        <!-- Lien RSS du Show (Masqué par défaut) -->
<div class="hn-dashboard" id="show-link-container" style="display: none; margin-top: 5px; font-size: 11px; text-align: right;">
    <a id="show-link" href="#" target="_blank" style="color: #ff6600; text-decoration: none; display: inline-flex; align-items: center; gap: 4px;">
        <!-- Icône RSS SVG simple -->
        <svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg>
        Subscribe to Podcast
    </a>
</div>

    <script src="browser-polyfill.min.js"></script>
    <script src="popup.js"></script>
  </body>
</html>
